//******************************************************************************
// YAYA　ゴーストテンプレート
// 緊急時辞書
// 最低限のエラー対策
//
// ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
// ！！！！！辞書エラーの原因になるような記述はしないこと！！！！！
// ！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！！
//
//******************************************************************************

OnBoot
{
	'\0\s[56]\1\s[-1]\0辞書に致命的なエラーが発生しているようです。\n\s[13]ネットワーク更新を試してみてください。\n\n[half]それでも解決しない場合は、お手数ですが作者にご一報いただければ幸いです。\e'
}

OnFirstBoot
{
	OnBoot
}

//******************************************************************************
//ネットワーク更新
//******************************************************************************

//------------------------------------------------------------------------------
//ネットワーク更新開始
//------------------------------------------------------------------------------
OnUpdateBegin
{
	'\0\s[6]ネットワーク更新を開始します。\e'
}

//------------------------------------------------------------------------------
//ネットワーク更新準備完了
//------------------------------------------------------------------------------
OnUpdateReady
{
	"\0\s[6]%(TOINT(reference[0])+1)件の更新があるみたいです。\e"
}

//------------------------------------------------------------------------------
//ネットワーク更新終了
//------------------------------------------------------------------------------
OnUpdateComplete
{
	if reference[0] == 'none' {
		//---- 更新すべきファイルが無かった
		'\0\s[56]更新するものがないみたいです。\n\s[13]更新を待つか、作者にお問い合わせ願います。\e'
	}
	else {
		//---- 実際に更新が完了した
		'\0\s[55]ん。更新が完了したみたい。\e'
	}
}

//------------------------------------------------------------------------------
//ネットワーク更新失敗
//------------------------------------------------------------------------------
OnUpdateFailure
{
	'\0\s[56]ネットワーク更新に失敗しました。\n\n[half]'
	--
	if reference[0] == 'timeout' {
		//---- タイムアウトした
		'\0\s[4]接続がタイムアウトしたみたいです。\e'
	}
	elseif reference[0] == 'md5 miss' {
		//---- MD5値が一致しなかった
		'\0\s[4]MD5値が一致しなかったみたいです。\e'
	}
	else {
		//---- 上記以外の理由で失敗した
		_escaped_message = SHIORI3FW.EscapeAllTags(reference[0])
		"\0\s[4]エラーメッセージは以下の通りです。\n\n[half]\_q「%(_escaped_message)」\_q\e"
	}
}

//------------------------------------------------------------------------------
//ネットワーク更新 ダウンロード開始
//------------------------------------------------------------------------------
OnUpdate.OnDownloadBegin
{
	_escaped_name = SHIORI3FW.EscapeAllTags(reference[0])
	
	"\0\s[6]「%(_escaped_name)」を更新中………\e"
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値照合開始
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareBegin
{
	'\0\s[6]MD5値を確認中……\w8\e'
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareComplete
{
	'\0\s[55]MD5値、一致してますね。\e'
}

//------------------------------------------------------------------------------
//ネットワーク更新 MD5値不一致
//------------------------------------------------------------------------------
OnUpdate.OnMD5CompareFailure
{
	'\0\s[4]ダメです。MD5値が一致しません。\e'
}
